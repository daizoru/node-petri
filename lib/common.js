// Generated by CoffeeScript 1.4.0
(function() {
  var P, crypto, isFunction, makeId, nbcores, sha1;

  crypto = require("crypto");

  isFunction = exports.isFunction = function(obj) {
    return !!(obj && obj.constructor && obj.call && obj.apply);
  };

  makeId = exports.makeId = function() {
    return Number("" + (new Date().valueOf()) + (Math.round(Math.random() * 10000)));
  };

  sha1 = exports.sha1 = function(src) {
    var shasum;
    shasum = crypto.createHash('sha1');
    shasum.update(src);
    return shasum.digest('hex');
  };

  P = exports.P = function(p) {
    if (p == null) {
      p = 0.5;
    }
    return +(Math.random() < p);
  };

  nbcores = exports.nbcores = function() {
    var cpus;
    cpus = Math.round(os.cpus().length);
    if (cpus < 3) {
      return 1;
    } else {
      return cpus - 2;
    }
  };

}).call(this);
